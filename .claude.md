# Idea Analyzer - NEXUS Component

> Part of NEXUS OS - A Personal AI-Powered Operating System
> Project Location: C:\Projects\idea-analyzer\
> Last Updated: 2026-01-01

## NEXUS OS Overview

**NEXUS** is a comprehensive personal AI-powered operating system that integrates professional work, entrepreneurial ventures, and personal productivity. It's not a single application, but an evolving ecosystem of integrated components.

### NEXUS Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      NEXUS ECOSYSTEM                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                   NEXUS VPS                           â”‚ â”‚
â”‚  â”‚            (Self-Hosted Cloud)                        â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚  Infrastructure:      Applications:                  â”‚ â”‚
â”‚  â”‚  â€¢ Coolify           â€¢ Idea Analyzer    â—„â”€â”€ YOU ARE HERE
â”‚  â”‚  â€¢ PostgreSQL        â€¢ n8n (planned)                 â”‚ â”‚
â”‚  â”‚  â€¢ Redis             â€¢ Future services...            â”‚ â”‚
â”‚  â”‚  â€¢ MinIO             â€¢ NEXUS Dashboard (planned)     â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚                                 â”‚
â”‚                           â”‚ HTTPS/API                       â”‚
â”‚                           â–¼                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                  NEXUS MCP                            â”‚ â”‚
â”‚  â”‚         (Claude Integration Layer)                    â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚  Local Windows, connects to VPS services             â”‚ â”‚
â”‚  â”‚  Available in Claude Desktop + Claude Code           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚                                 â”‚
â”‚                           â–¼                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              NEXUS Interfaces                         â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚  â€¢ Claude Desktop (chat + MCP)                        â”‚ â”‚
â”‚  â”‚  â€¢ Claude Code (development + MCP)                    â”‚ â”‚
â”‚  â”‚  â€¢ Slack (mobile capture)                             â”‚ â”‚
â”‚  â”‚  â€¢ Web dashboards (n8n, Coolify)                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### NEXUS Components

| Component | Status | Purpose |
|-----------|--------|---------|
| **NEXUS VPS** | In Setup | Self-hosted cloud infrastructure (Contabo, Coolify) |
| **Idea Analyzer** | Deploying | Content extraction and analysis (this project) |
| **NEXUS MCP** | Planned | Unified MCP server for all NEXUS services |
| **n8n Automation** | Planned | Workflow automation and orchestration |
| **NEXUS Dashboard** | Future | Unified web interface for all services |
| **NEXUS Mobile** | Future | Mobile capture and access |

### NEXUS Principles

1. **VPS-First**: Services run 24/7 on VPS, not locally
2. **Always Available**: Independent of local machine state
3. **MCP Integration**: Claude is the primary interface
4. **Self-Hosted**: Control over data and costs
5. **Cost-Conscious**: Optimize for ~$9/mo budget
6. **Simple First**: Start minimal, add complexity when needed

---

## This Project: Idea Analyzer

**Idea Analyzer** is the **first application component** being deployed to the NEXUS VPS infrastructure. It serves as the foundation and deployment pattern for future NEXUS services.

### Role in NEXUS

**Purpose:** Capture and analyze ideas from multiple sources, making them accessible to Claude via MCP.

**Integration Points:**
- **Storage:** Uses NEXUS PostgreSQL and Redis infrastructure
- **Access:** Accessible via NEXUS MCP tools in Claude
- **Capture:** Integrates with Slack for mobile idea capture
- **Future:** Will feed into n8n workflows for automated processing

**Strategic Importance:**
- First service to use VPS deployment pattern
- Establishes authentication patterns (API keys)
- Tests 3-network isolation model
- Validates Coolify deployment workflow
- Foundation for future automation

### Current Status

**Local Development:** âœ… Complete
- FastAPI extractor service working
- Slack bot integration functional
- MCP server connecting to Claude
- PostgreSQL + Redis in Docker

**VPS Deployment:** ğŸŸ¡ In Preparation
- Deployment files created
- Authentication implemented
- Ready for execution

**Next Phase:** Deploy to VPS via Coolify

---

## Architecture

### Local (Current Development)

```
Windows PC (C:\Projects\idea-analyzer\)
â”œâ”€â”€ Extractor (Python/FastAPI) - Port 8000
â”œâ”€â”€ Slack Bot (Python/Bolt) - Socket Mode
â”œâ”€â”€ MCP Server (Node.js) - stdio to Claude
â””â”€â”€ Docker Services
    â”œâ”€â”€ PostgreSQL - Port 5432
    â”œâ”€â”€ Redis - Port 6379
    â””â”€â”€ PostgREST - Port 3000
```

### VPS Target (Deploying)

```
NEXUS VPS (Contabo, Ubuntu 24.04)
â”œâ”€â”€ Traefik (SSL/Routing)
â”‚   â””â”€â”€ api.nexus.yourdomain.com
â”œâ”€â”€ Extractor (Docker) - API with authentication
â”œâ”€â”€ Slack Bot (Docker) - Always listening
â”œâ”€â”€ PostgreSQL (Docker) - nexus_core database
â”œâ”€â”€ Redis (Docker) - Caching/queues
â””â”€â”€ PostgREST (Docker) - Direct DB access

Local Windows
â””â”€â”€ MCP Server - Connects via HTTPS + API key
```

### Network Isolation

**3-Network Model:**
- **Public Network:** Traefik only (external traffic)
- **App Network:** Services communicate (can reach internet)
- **Data Network:** PostgreSQL, Redis, MinIO (internal only)

**Security:**
- API key authentication (X-API-Key header)
- HTTPS everywhere via Let's Encrypt
- SSH keys, no root login
- UFW firewall + fail2ban

---

## Tech Stack

### Backend
- **Python 3.11** - FastAPI (extractor), Slack Bolt (bot)
- **Node.js** - MCP server (local only)

### Content Extraction
- **yt-dlp** - YouTube video/audio downloading
- **OpenAI Whisper** - Audio transcription (local model, FREE)
- **Trafilatura** - Web article text extraction
- **PRAW** - Reddit API wrapper
- **PyGithub** - GitHub API client
- **PyMuPDF** - PDF text extraction
- **python-docx** - Word document parsing

### Infrastructure
- **Docker & Docker Compose** - Service orchestration
- **PostgreSQL 15** - Primary database
- **Redis 7** - Caching and job queues
- **PostgREST** - Auto-generated REST API
- **Coolify** - Deployment management on VPS
- **Traefik** - Reverse proxy and SSL

---

## Project Structure

```
idea-analyzer/
â”œâ”€â”€ extractor/                  # Main extraction service
â”‚   â”œâ”€â”€ main.py                # FastAPI app with API routes
â”‚   â”œâ”€â”€ auth.py                # API key authentication middleware
â”‚   â”œâ”€â”€ extractors/            # Source-specific extractors
â”‚   â”‚   â”œâ”€â”€ youtube.py         # YouTube + Whisper transcription
â”‚   â”‚   â”œâ”€â”€ article.py         # Web article extraction
â”‚   â”‚   â”œâ”€â”€ reddit.py          # Reddit thread extraction
â”‚   â”‚   â”œâ”€â”€ github.py          # GitHub repository extraction
â”‚   â”‚   â””â”€â”€ file_extractor.py  # PDF, DOCX, audio, video
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ Dockerfile             # Container definition for VPS
â”‚
â”œâ”€â”€ slack-bot/                  # Slack integration
â”‚   â”œâ”€â”€ app.py                 # Slack Bolt async app
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ Dockerfile             # Container definition for VPS
â”‚
â”œâ”€â”€ mcp-server/                 # MCP integration (stays local)
â”‚   â”œâ”€â”€ index.js               # MCP server implementation
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ schema.sql             # PostgreSQL database schema
â”‚
â”œâ”€â”€ docs/deployment/            # VPS deployment guides
â”‚   â”œâ”€â”€ DEPLOYMENT-CHECKLIST.md
â”‚   â”œâ”€â”€ VPS-DEPLOYMENT-GUIDE.md
â”‚   â”œâ”€â”€ main-py-updates.md
â”‚   â”œâ”€â”€ mcp-server-updates.md
â”‚   â”œâ”€â”€ CLAUDE-CODE-WORKFLOW.md
â”‚   â”œâ”€â”€ CLAUDE-CODE-PROMPTS.md
â”‚   â””â”€â”€ TOOL-SELECTION-GUIDE.md
â”‚
â”œâ”€â”€ docker-compose.yml          # Local development
â”œâ”€â”€ docker-compose.vps.yml      # VPS deployment
â”œâ”€â”€ .env.example                # Environment template
â”œâ”€â”€ .env.vps.example            # VPS environment template
â””â”€â”€ .claude.md                  # This file (project context)
```

---

## NEXUS Development Workflow

### Two-Tool Strategy

NEXUS development follows a structured workflow using both Claude Desktop and Claude Code for different purposes.

#### Tool 1: Claude Desktop (NEXUS Development Project)

**Location:** Claude Desktop with "NEXUS Development" Project

**Purpose:** Strategic planning, architecture, documentation

**Contains:**
- architecture.md - Overall NEXUS architecture
- decisions-log.md - Architectural decisions with rationale
- roadmap.md - Phases, milestones, priorities
- services.md - Deployed services reference
- troubleshooting.md - Known issues and solutions
- idea-analyzer-context.md - This project's context
- idea-analyzer-current-state.md - Detailed current state

**Use for:**
- Making architectural decisions
- Planning deployment strategies
- Understanding how components integrate
- Updating NEXUS-wide documentation
- Reviewing overall progress
- Making trade-off decisions
- Cross-project coordination

**Example questions:**
- "Should we use separate databases or one shared database?"
- "How does Idea Analyzer fit into the n8n automation workflows?"
- "What's the security model for the VPS?"
- "Update the roadmap with deployment completion"

#### Tool 2: Claude Code (This Directory)

**Location:** Claude Code in `C:\Projects\idea-analyzer\`

**Purpose:** Tactical execution, file operations, testing

**Use for:**
- Creating/modifying code files
- Running commands (Docker, Git, npm, pip)
- Local testing and builds
- Following deployment guides
- Implementing specific features
- Debugging and troubleshooting
- Git operations

**Example tasks:**
- "Update extractor/main.py with authentication"
- "Build Docker images and test locally"
- "Run git commit and push changes"
- "Copy deployment files to correct locations"
- "Test the health endpoint"

#### Workflow Pattern

```
1. PLAN (Claude Desktop - NEXUS Development Project)
   â†“
   - Discuss strategy
   - Make architectural decisions
   - Create deployment files
   - Download files to local machine

2. EXECUTE (Claude Code - This Directory)
   â†“
   - Open C:\Projects\idea-analyzer
   - Use ready-to-paste prompts
   - Create/modify files
   - Run tests
   - Commit to Git

3. DOCUMENT (Claude Desktop - NEXUS Development Project)
   â†“
   - Report completion
   - Update NEXUS documentation
   - Plan next steps
   - Record lessons learned
```

### When to Use Which Tool

**Use Claude Desktop (NEXUS Development Project) when:**
- â“ Making strategic decisions
- ğŸ“‹ Planning deployment approaches
- ğŸ” Understanding NEXUS architecture
- ğŸ“š Updating NEXUS documentation
- ğŸ¤” Solving complex integration issues
- ğŸ¯ Prioritizing next steps

**Use Claude Code (This Directory) when:**
- âœï¸ Writing or modifying code
- ğŸ³ Building Docker images
- ğŸ§ª Running tests
- ğŸ“¦ Installing dependencies
- ğŸ”§ Debugging specific issues
- ğŸ’¾ Git operations

**Use Both (Sequential) when:**
- ğŸš€ Deploying new features
- ğŸ—ï¸ Building new components
- ğŸ”„ Making significant changes

---

## Current Task: VPS Deployment

### What's Complete

âœ… **Local Development**
- Extractor service fully functional
- Slack bot integration working
- MCP server connecting to Claude
- All extraction types working (YouTube, articles, Reddit, GitHub, files)
- Database schema defined

âœ… **Deployment Preparation**
- Dockerfiles created (extractor, slack-bot)
- docker-compose.vps.yml created
- API authentication module created (auth.py)
- Deployment documentation written
- MCP updates documented

### What's Next

ğŸ”² **File Updates** (Via Claude Code)
1. Copy deployment files to correct locations
2. Update extractor/main.py with authentication
3. Update mcp-server/index.js for VPS connection
4. Update .gitignore
5. Test Docker builds locally
6. Git commit and push

ğŸ”² **VPS Deployment** (Via Coolify + Claude Desktop guidance)
1. Configure environment variables in Coolify
2. Deploy PostgreSQL, Redis
3. Deploy extractor service
4. Deploy Slack bot
5. Configure domain routing
6. Verify SSL certificates

ğŸ”² **Verification**
1. Test API health endpoints
2. Test authentication
3. Update MCP config for VPS
4. Test extraction from Claude
5. Test Slack bot on VPS

### Reference Documentation

All guides are in `docs/deployment/`:
- **DEPLOYMENT-CHECKLIST.md** - Task tracking
- **VPS-DEPLOYMENT-GUIDE.md** - Step-by-step walkthrough
- **CLAUDE-CODE-PROMPTS.md** - Ready-to-paste prompts for file updates
- **CLAUDE-CODE-WORKFLOW.md** - Complete workflow explanation
- **TOOL-SELECTION-GUIDE.md** - Quick reference for tool choice

---

## Database Schema

### Tables

#### extractions
Primary table storing all extracted content.

```sql
CREATE TABLE extractions (
    id VARCHAR(12) PRIMARY KEY,
    url TEXT,
    source_type VARCHAR(20),  -- youtube, article, reddit, github, file
    title TEXT,
    raw_transcript TEXT,
    cleaned_transcript TEXT,
    metadata JSONB,
    status VARCHAR(20),       -- pending, processing, completed, failed
    error_message TEXT,
    slack_channel_id VARCHAR(50),
    slack_thread_ts VARCHAR(50),
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

#### analyses
Stores Claude's analysis results (table exists but not yet populated by code).

```sql
CREATE TABLE analyses (
    id VARCHAR(12) PRIMARY KEY,
    extraction_id VARCHAR(12) REFERENCES extractions(id),
    executive_summary TEXT,
    full_report TEXT,
    preliminary_design TEXT,
    viability_score INTEGER,
    recommendation VARCHAR(20),  -- pursue, research_more, pass
    created_at TIMESTAMPTZ DEFAULT NOW()
);
```

### Future: NEXUS Integration

When other NEXUS services deploy:
- Same PostgreSQL instance, separate databases
- `nexus_core` - Shared data, Idea Analyzer
- `nexus_n8n` - n8n workflows
- `nexus_future` - Future services

---

## API Endpoints

### Extractor Service

**Base URL (Local):** `http://localhost:8000`
**Base URL (VPS):** `https://api.nexus.yourdomain.com`

| Endpoint | Method | Auth | Description |
|----------|--------|------|-------------|
| `GET /health` | GET | No | Health check (public for monitoring) |
| `GET /` | GET | No | Root health check |
| `POST /extract` | POST | **Yes** | Start URL extraction |
| `POST /extract/file` | POST | **Yes** | Upload file for extraction |
| `GET /extraction/{id}` | GET | **Yes** | Get extraction by ID |
| `GET /extractions` | GET | **Yes** | List recent extractions |

**Authentication (VPS only):**
- Header: `X-API-Key: your-nexus-api-key`
- Configured via `NEXUS_API_KEY` environment variable
- Health endpoints remain public for monitoring tools

---

## MCP Tools

The MCP server exposes these tools to Claude (available in both Claude Desktop and Claude Code):

### get_extraction
Get a specific extraction by ID.

**Input:** `{"id": "abc123"}`

**Returns:** Full extraction object with transcript, metadata, status

### list_extractions
List recent extractions with optional filtering.

**Input:**
```json
{
  "limit": 20,          // Optional, default 20
  "status": "completed" // Optional: pending, processing, completed, failed
}
```

**Returns:** Array of extraction summaries

### extract_url
Start a new extraction from a URL.

**Input:** `{"url": "https://youtube.com/watch?v=..."}`

**Returns:** Extraction ID and status message

**Supported URLs:**
- YouTube videos (youtube.com, youtu.be)
- Reddit threads (reddit.com)
- GitHub repositories (github.com)
- Web articles (any other URL)

### check_service_status
Verify the extractor service is running.

**Returns:** Service health status

---

## Environment Variables

### Local Development (.env)

```env
# Database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/idea_analyzer
POSTGREST_URL=http://localhost:3000

# Redis
REDIS_URL=redis://localhost:6379

# Slack (required)
SLACK_BOT_TOKEN=xoxb-your-bot-token
SLACK_SIGNING_SECRET=your-signing-secret
SLACK_APP_TOKEN=xapp-your-app-token

# Optional APIs
REDDIT_CLIENT_ID=your-client-id
REDDIT_CLIENT_SECRET=your-client-secret
GITHUB_TOKEN=your-github-token

# Whisper
WHISPER_MODEL=base  # tiny, base, small, medium, large
```

### VPS Deployment (.env.vps)

All of the above, plus:

```env
# NEXUS Domain
NEXUS_DOMAIN=nexus.yourdomain.com

# Authentication
NEXUS_API_KEY=your-secure-api-key

# Database Credentials
DB_USER=nexus
DB_PASSWORD=secure-random-password
DB_NAME=nexus_core

# Redis
REDIS_PASSWORD=secure-random-password
```

**Security Notes:**
- Never commit .env files to Git (already in .gitignore)
- Generate secure passwords: `openssl rand -base64 32`
- Generate API keys: `openssl rand -hex 32`
- Store in password manager

---

## Common Commands

### Docker Operations

```bash
# Build services
docker build -t idea-analyzer-extractor -f extractor/Dockerfile extractor/
docker build -t idea-analyzer-slack -f slack-bot/Dockerfile slack-bot/

# Local development
docker-compose up -d           # Start all services
docker-compose logs -f         # Follow logs
docker-compose down            # Stop services

# Individual service logs
docker logs nexus-extractor
docker logs nexus-slack-bot
docker logs nexus-postgres
```

### Testing

```bash
# Health check (local)
curl http://localhost:8000/health

# Health check (VPS)
curl https://api.nexus.yourdomain.com/health

# Test with authentication (VPS)
curl -H "X-API-Key: your-key" https://api.nexus.yourdomain.com/extractions

# Test extraction
curl -X POST http://localhost:8000/extract \
  -H "Content-Type: application/json" \
  -d '{"url":"https://youtube.com/watch?v=..."}'
```

### Git Operations

```bash
# Check status
git status

# Stage changes
git add .

# Commit deployment changes
git commit -m "Add VPS deployment configuration with authentication"

# Push to GitHub
git push origin main
```

### Database Operations

```bash
# Connect to local database
docker exec -it nexus-postgres psql -U postgres -d idea_analyzer

# View extractions
SELECT id, url, status, title FROM extractions ORDER BY created_at DESC LIMIT 5;

# Check database size
SELECT pg_size_pretty(pg_database_size('idea_analyzer'));
```

---

## Integration with NEXUS

### Current Integration

**Data Storage:**
- Uses NEXUS PostgreSQL infrastructure
- Shared database instance, separate database (nexus_core)
- Part of NEXUS data backup strategy

**Access Layer:**
- MCP tools available in all NEXUS interfaces
- Claude Desktop, Claude Code both have access
- Foundation for future unified NEXUS MCP server

**Capture:**
- Slack integration for mobile idea capture
- Will integrate with NEXUS mobile app (future)

### Future Integration

**n8n Automation (Planned):**
- Automatic extraction of bookmarked URLs
- Scheduled processing of saved articles
- Email â†’ extraction workflow
- Morning digest of new extractions

**NEXUS Dashboard (Planned):**
- View all extractions in web UI
- Search and filter capabilities
- Analysis results display
- Quick actions (re-extract, delete, export)

**Unified MCP (Planned):**
- Single NEXUS MCP server on VPS
- Combines Idea Analyzer + n8n + other services
- Replaces individual MCP servers
- Unified authentication and access control

---

## Troubleshooting

### Docker Build Fails

**Symptom:** Build errors during `docker build`

**Solutions:**
- Check Dockerfile syntax
- Verify all dependencies in requirements.txt
- Ensure Docker daemon is running
- Check for port conflicts (8000, 5432, 6379)

### Service Won't Start

**Symptom:** Container exits immediately

**Solutions:**
- Check logs: `docker logs <container-name>`
- Verify environment variables are set
- Check database connection string
- Ensure dependent services (PostgreSQL) are running

### Authentication Errors (401)

**Symptom:** API returns 401 Unauthorized

**Solutions:**
- Verify `X-API-Key` header is included
- Check API key matches `NEXUS_API_KEY` env var
- Ensure request is going to /api/ path (not /health)
- Check for typos in API key

### Whisper Out of Memory

**Symptom:** Extraction fails with memory error

**Solutions:**
- Reduce Whisper model size: `WHISPER_MODEL=tiny`
- Or upgrade VPS RAM (12GB â†’ 16GB)
- Or use OpenAI Whisper API (costs money)

### Slack Bot Silent

**Symptom:** Bot doesn't respond to URLs

**Solutions:**
- Check tokens are correct (SLACK_BOT_TOKEN, etc.)
- Verify Socket Mode is enabled
- Check bot has required scopes
- Ensure bot is invited to channel
- Check extractor service is reachable

### Database Connection Failed

**Symptom:** Can't connect to PostgreSQL

**Solutions:**
- Check database is running: `docker ps | grep postgres`
- Verify connection string format
- Use Docker service name, not localhost: `postgres:5432`
- Check database exists: `psql -U postgres -l`

---

## Quick Reference

### Project Status
- **Phase:** VPS Deployment Preparation
- **Next Step:** Execute file updates via Claude Code
- **Deployment Method:** Coolify on Contabo VPS
- **Target Domain:** api.nexus.yourdomain.com

### Key Files
- **Main App:** extractor/main.py
- **Authentication:** extractor/auth.py
- **MCP Server:** mcp-server/index.js
- **Database Schema:** supabase/schema.sql
- **Deployment Config:** docker-compose.vps.yml

### Development Tools
- **Strategic Planning:** Claude Desktop (NEXUS Development Project)
- **Tactical Execution:** Claude Code (this directory)
- **Deployment Guides:** docs/deployment/

### Important URLs
- **Local API:** http://localhost:8000
- **VPS API:** https://api.nexus.yourdomain.com (after deployment)
- **Coolify:** https://coolify.nexus.yourdomain.com (after setup)

### Owner
- **Name:** Nurul
- **Location:** Melbourne, Australia
- **Role:** Senior Network Engineer
- **Projects:** NEXUS OS, Systems for Professionals, Print on Demand

---

## Related NEXUS Projects

### In Development
- **NEXUS VPS Infrastructure** - Base infrastructure (Coolify, databases, networking)
- **Idea Analyzer** (this project) - Content extraction and analysis
- **NEXUS MCP** - Unified MCP server (planned)

### Planned
- **n8n Automation** - Workflow automation
- **NEXUS Dashboard** - Unified web interface
- **NEXUS Mobile** - Mobile capture app
- **NEXUS AI** - Local LLM integration (Ollama)

### Documentation Location

All NEXUS architecture and planning documentation lives in:
- **Claude Desktop** â†’ "NEXUS Development" Project
- Contains architecture, decisions, roadmap, services, troubleshooting
- Strategic planning happens there
- Tactical execution happens here (Claude Code)

---

## When in Doubt

**For strategic questions:**
â†’ Open Claude Desktop â†’ NEXUS Development Project

**For tactical execution:**
â†’ Use Claude Code in this directory

**For deployment:**
â†’ Follow guides in docs/deployment/

**For NEXUS context:**
â†’ Remember you're building the first component of a comprehensive personal AI operating system

**For questions about integration:**
â†’ Claude Desktop has the full NEXUS architecture and can explain how pieces fit together

---

**This is component 1 of NEXUS OS. You're building the foundation.**
